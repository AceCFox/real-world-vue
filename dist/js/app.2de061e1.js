(function(e){function t(t){for(var c,o,i=t[0],u=t[1],s=t[2],b=0,d=[];b<i.length;b++)o=i[b],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(c in u)Object.prototype.hasOwnProperty.call(u,c)&&(e[c]=u[c]);l&&l(t);while(d.length)d.shift()();return r.push.apply(r,s||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],c=!0,i=1;i<n.length;i++){var u=n[i];0!==a[u]&&(c=!1)}c&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var c={},a={app:0},r=[];function o(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=c,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)o.d(n,c,function(t){return e[t]}.bind(null,c));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var l=u;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0516":function(e,t,n){},"19e4":function(e,t,n){"use strict";n("e3a3")},"29c9":function(e,t,n){},"4a13":function(e,t,n){"use strict";n("f6bd")},"50a6":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var c={};n.r(c),n.d(c,"state",(function(){return Be}));var a={};n.r(a),n.d(a,"namespaced",(function(){return De})),n.d(a,"state",(function(){return Ie})),n.d(a,"mutations",(function(){return Ne})),n.d(a,"actions",(function(){return Ue})),n.d(a,"getters",(function(){return Me}));var r={};n.r(r),n.d(r,"namespaced",(function(){return Je})),n.d(r,"state",(function(){return $e})),n.d(r,"mutations",(function(){return Fe})),n.d(r,"actions",(function(){return Ge}));n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),i={id:"nav"},u=Object(o["f"])("Events"),s=Object(o["f"])(" | "),l=Object(o["f"])("Create"),b=Object(o["f"])(" | "),d=Object(o["f"])("About");function v(e,t,n,c,a,r){var v=Object(o["y"])("router-link"),f=Object(o["y"])("router-view"),O=Object(o["y"])("NotificationContainer");return Object(o["q"])(),Object(o["d"])(o["a"],null,[Object(o["g"])("div",i,[Object(o["g"])(v,{to:{name:"EventList"},"exact-path":""},{default:Object(o["I"])((function(){return[u]})),_:1}),s,Object(o["g"])(v,{to:{name:"EventCreate"},"exact-path":""},{default:Object(o["I"])((function(){return[l]})),_:1}),b,Object(o["g"])(v,{to:{name:"About"},"exact-path":""},{default:Object(o["I"])((function(){return[d]})),_:1})]),Object(o["g"])(f,{key:e.$route.fullPath}),Object(o["g"])(O)],64)}var f=Object(o["L"])("data-v-15096b8e");Object(o["t"])("data-v-15096b8e");var O={class:"notification-container"};Object(o["r"])();var j=f((function(e,t,n,c,a,r){var i=Object(o["y"])("NotificationBar");return Object(o["q"])(),Object(o["d"])("div",O,[(Object(o["q"])(!0),Object(o["d"])(o["a"],null,Object(o["w"])(e.notifications,(function(e){return Object(o["q"])(),Object(o["d"])(i,{key:e.id,notification:e},null,8,["notification"])})),128))])})),p=Object(o["L"])("data-v-8fe234c2"),g=p((function(e,t,n,c,a,r){return Object(o["q"])(),Object(o["d"])("div",{class:["notification-bar",r.notificationTypeClass]},[Object(o["g"])("p",null,Object(o["B"])(n.notification.message),1)],2)})),m=n("5502"),h={props:{notification:{type:Object,required:!0}},data:function(){return{timeout:null}},mounted:function(){var e=this;this.timeout=setTimeout((function(){return e.remove(e.notification)}),5e3)},beforeUnmount:function(){clearTimeout(this.timeout)},computed:{notificationTypeClass:function(){return"-text-".concat(this.notification.type)}},methods:Object(m["b"])("notification",["remove"])};n("f8f1");h.render=g,h.__scopeId="data-v-8fe234c2";var y=h,E={components:{NotificationBar:y},computed:Object(m["c"])("notification",["notifications"])};n("5ba1");E.render=j,E.__scopeId="data-v-15096b8e";var _=E,w={components:{NotificationContainer:_}};n("9a62");w.render=v;var P=w,S=n("6c02"),q=(n("b0c0"),Object(o["L"])("data-v-c570d94a"));Object(o["t"])("data-v-c570d94a");var T={class:"home"},x={class:"events"},B={id:"nav"},k=Object(o["f"])(" Previous Page "),L=Object(o["f"])(" Next Page ");Object(o["r"])();var A=q((function(e,t,n,c,a,r){var i=Object(o["y"])("EventCard"),u=Object(o["y"])("router-link");return Object(o["q"])(),Object(o["d"])("div",T,[Object(o["g"])("div",x,[Object(o["g"])("h1",null,"Events for "+Object(o["B"])(e.user.user.name),1),(Object(o["q"])(!0),Object(o["d"])(o["a"],null,Object(o["w"])(e.event.events,(function(e){return Object(o["q"])(),Object(o["d"])(i,{key:e.id,event:e},null,8,["event"])})),128)),Object(o["g"])("div",B,[1!=r.page?(Object(o["q"])(),Object(o["d"])(u,{key:0,to:{name:"EventList",query:{page:r.page-1}},rel:"prev"},{default:q((function(){return[k]})),_:1},8,["to"])):Object(o["e"])("",!0),Object(o["J"])(Object(o["g"])("span",null,"|",512),[[o["F"],1<r.page&&r.page<e.event.maxPage]]),r.page<e.event.maxPage?(Object(o["q"])(),Object(o["d"])(u,{key:1,to:{name:"EventList",query:{page:r.page+1}},rel:"next"},{default:q((function(){return[L]})),_:1},8,["to"])):Object(o["e"])("",!0)])])])})),C=n("5530"),V=Object(o["L"])("data-v-c96f6be8");Object(o["t"])("data-v-c96f6be8");var D={class:"event-card"};Object(o["r"])();var I=V((function(e,t,n,c,a,r){var i=Object(o["y"])("router-link");return Object(o["q"])(),Object(o["d"])(i,{class:"event-link",to:{name:"EventDetails",params:{id:n.event.id}}},{default:V((function(){return[Object(o["g"])("div",D,[Object(o["g"])("span",null,"@ "+Object(o["B"])(n.event.time)+" on "+Object(o["B"])(n.event.date),1),Object(o["g"])("h4",null,Object(o["B"])(n.event.title),1)])]})),_:1},8,["to"])})),N={name:"EventCard",props:{event:Object}};n("19e4");N.render=I,N.__scopeId="data-v-c96f6be8";var U=N,M={name:"EventList",components:{EventCard:U},created:function(){this.$store.dispatch("event/fetchEvents",{perPage:3,page:this.page})},computed:Object(C["a"])({page:function(){return parseInt(this.$route.query.page)||1}},Object(m["c"])(["event","user"]))};n("ac5c");M.render=A,M.__scopeId="data-v-c570d94a";var J=M,$={class:"about"},z=Object(o["g"])("h1",null,"A site for events to better the world.",-1);function F(e,t){return Object(o["q"])(),Object(o["d"])("div",$,[z])}const G={};G.render=F;var H=G,W=(n("a4d3"),n("e01a"),Object(o["L"])("data-v-2aeab246"));Object(o["t"])("data-v-2aeab246");var X={key:0},K={class:"event-header"},R={class:"eyebrow"},Q={class:"title"},Y=Object(o["g"])("h2",null,"Location",-1),Z=Object(o["g"])("h2",null,"Event details",-1),ee=Object(o["f"])(" Attendees "),te={class:"badge -fill-gradient"},ne={class:"list-group"};Object(o["r"])();var ce=W((function(e,t,n,c,a,r){return e.event?(Object(o["q"])(),Object(o["d"])("div",X,[Object(o["g"])("div",K,[Object(o["g"])("span",R,"@"+Object(o["B"])(e.event.time)+" on "+Object(o["B"])(e.event.date||e.date),1),Object(o["g"])("h1",Q,Object(o["B"])(e.event.title),1),Object(o["g"])("h5",null,"Organized by "+Object(o["B"])(e.event.organizer?e.event.organizer.name?e.event.organizer.name:e.event.organizer:""),1),Object(o["g"])("h5",null,"Category: "+Object(o["B"])(e.event.category),1)]),Y,Object(o["g"])("address",null,Object(o["B"])(e.event.location),1),Z,Object(o["g"])("p",null,Object(o["B"])(e.event.description),1),Object(o["g"])("h2",null,[ee,Object(o["g"])("span",te,Object(o["B"])(e.event.attendees?e.event.attendees.length:0),1)]),Object(o["g"])("ul",ne,[(Object(o["q"])(!0),Object(o["d"])(o["a"],null,Object(o["w"])(e.event.attendees,(function(e,t){return Object(o["q"])(),Object(o["d"])("li",{key:t,class:"list-item"},[Object(o["g"])("b",null,Object(o["B"])(e.name),1)])})),128))])])):Object(o["e"])("",!0)})),ae={props:["id"],created:function(){this.fetchSingleEvent(this.id)},computed:Object(m["c"])({event:function(e){return e.event.event}}),methods:Object(m["b"])("event",["fetchSingleEvent"])};n("c7f8");ae.render=ce,ae.__scopeId="data-v-2aeab246";var re=ae,oe=Object(o["L"])("data-v-c2375d24");Object(o["t"])("data-v-c2375d24");var ie=Object(o["g"])("h1",null,"Create an Event",-1),ue=Object(o["g"])("label",null,"Select a category",-1),se=Object(o["g"])("h3",null,"Name & describe your event",-1),le={class:"field"},be=Object(o["g"])("label",null,"Title",-1),de={class:"field"},ve=Object(o["g"])("label",null,"Description",-1),fe=Object(o["g"])("h3",null,"Where is your event?",-1),Oe={class:"field"},je=Object(o["g"])("label",null,"Location",-1),pe=Object(o["g"])("h3",null,"When is your event?",-1),ge={class:"field"},me=Object(o["g"])("label",null,"Date",-1),he={class:"field"},ye=Object(o["g"])("label",null,"Select a time",-1),Ee=Object(o["g"])("input",{type:"submit",class:"button -fill-gradient",value:"Submit"},null,-1);Object(o["r"])();var _e=oe((function(e,t,n,c,a,r){var i=Object(o["y"])("datepicker");return Object(o["q"])(),Object(o["d"])(o["a"],null,[ie,Object(o["g"])("form",{onSubmit:t[7]||(t[7]=Object(o["K"])((function(){return r.createEvent&&r.createEvent.apply(r,arguments)}),["prevent"]))},[ue,Object(o["J"])(Object(o["g"])("select",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.event.category=e})},[(Object(o["q"])(!0),Object(o["d"])(o["a"],null,Object(o["w"])(a.categories,(function(e){return Object(o["q"])(),Object(o["d"])("option",{key:e},Object(o["B"])(e),1)})),128))],512),[[o["D"],a.event.category]]),se,Object(o["g"])("div",le,[be,Object(o["J"])(Object(o["g"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.event.title=e}),type:"text",placeholder:"Add an event title"},null,512),[[o["E"],a.event.title]])]),Object(o["g"])("div",de,[ve,Object(o["J"])(Object(o["g"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.event.description=e}),type:"text",placeholder:"Add a description"},null,512),[[o["E"],a.event.description]])]),fe,Object(o["g"])("div",Oe,[je,Object(o["J"])(Object(o["g"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.event.location=e}),type:"text",placeholder:"Add a location"},null,512),[[o["E"],a.event.location]])]),pe,Object(o["g"])("div",ge,[me,Object(o["g"])(i,{modelValue:a.event.date,"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.event.date=e}),placeholder:"Select a date"},null,8,["modelValue"])]),Object(o["g"])("div",he,[ye,Object(o["J"])(Object(o["g"])("select",{"onUpdate:modelValue":t[6]||(t[6]=function(e){return a.event.time=e})},[(Object(o["q"])(!0),Object(o["d"])(o["a"],null,Object(o["w"])(a.times,(function(e){return Object(o["q"])(),Object(o["d"])("option",{key:e},Object(o["B"])(e),1)})),128))],512),[[o["D"],a.event.time]])]),Ee],32)],64)})),we=n("24e7"),Pe={components:{Datepicker:we["a"]},data:function(){for(var e=[],t=1;t<=24;t++)e.push(t+":00");return{event:this.createFreshEvent(),times:e,categories:this.$store.state.categories}},methods:{createFreshEvent:function(){var e=this.$store.state.user.user,t=Math.floor(1e7*Math.random());return{id:t,category:"",organizer:e,title:"",description:"",location:"",date:"",time:"",attendees:[]}},createEvent:function(){var e=this;this.$store.dispatch("event/createEvent",this.event).then((function(){e.$router.push({name:"EventDetails",params:{id:e.event.id}}),e.event=e.createFreshEvent()})).catch((function(e){console.log("error encountered in event post:",e)}))}}};n("4a13");Pe.render=_e,Pe.__scopeId="data-v-c2375d24";var Se=Pe,qe=[{path:"/",name:"EventList",component:J},{path:"/about",name:"About",component:H},{path:"/event/:id",name:"EventDetails",props:!0,component:re},{path:"/create/",name:"EventCreate",store:!0,component:Se}],Te=Object(S["a"])({history:Object(S["b"])("/"),routes:qe}),xe=Te,Be={user:{id:"abc123",name:"Ace"}},ke=n("b85c"),Le=n("bc3a"),Ae=n.n(Le),Ce=Ae.a.create({baseURL:"http://localhost:3000",withCredentials:!1,headers:{Accept:"application/json","Content-Type":"application/json"}}),Ve={getEvents:function(e,t){return Ce.get("/events?_limit="+e+"&_page="+t)},getEvent:function(e){return Ce.get("/events/"+e)},postEvent:function(e){return Ce.post("/events",e)}},De=!0,Ie={events:[],maxPage:null,event:{}},Ne={ADD_EVENT:function(e,t){e.events.push(t)},SET_EVENTS:function(e,t){e.events=t},SET_MAX_PAGE:function(e,t){e.maxPage=Math.ceil(t/3)},SET_EVENT:function(e,t){e.event=t}},Ue={createEvent:function(e,t){var n=this,c=e.dispatch,a=e.rootState;return console.log("User creating event is "+a.user.user.name),Ve.postEvent(t).then((function(){c("fetchEvents(4, ".concat(n.maxPage,")"));var e={type:"success",message:"Event sucessfully created!"};c("notification/add",e,{root:!0})})).catch((function(e){var t={type:"error",message:"Problem while creating new event: "+e.message};throw c("notification/add",t,{root:!0}),e}))},fetchEvents:function(e,t){var n=e.commit,c=e.dispatch,a=t.perPage,r=t.page;Ve.getEvents(a,r).then((function(e){var t=e.headers["x-total-count"];n("SET_MAX_PAGE",t),n("SET_EVENTS",e.data)})).catch((function(e){var t={type:"error",message:"Problem while fetching events: "+e.message};c("notification/add",t,{root:!0})}))},fetchSingleEvent:function(e,t){var n=e.commit,c=e.getters,a=e.dispatch,r=c.getEventById(t);r?n("SET_EVENT",r):Ve.getEvent(t).then((function(e){n("SET_EVENT",e.data)})).catch((function(e){var t={type:"error",message:"Problem while fetching event: "+e.message};a("notification/add",t,{root:!0})}))}},Me={getEventById:function(e){return function(t){var n,c=Object(ke["a"])(e.events);try{for(c.s();!(n=c.n()).done;){var a=n.value;if(a.id==t)return a}}catch(r){c.e(r)}finally{c.f()}}}},Je=(n("4de4"),!0),$e={notifications:[]},ze=0,Fe={PUSH:function(e,t){e.notifications.push(Object(C["a"])(Object(C["a"])({},t),{},{id:ze++}))},DELETE:function(e,t){e.notifications=e.notifications.filter((function(e){return e.id!==t.id}))}},Ge={add:function(e,t){var n=e.commit;n("PUSH",t)},remove:function(e,t){var n=e.commit;n("DELETE",t)}},He=Object(m["a"])({modules:{user:c,event:a,notification:r},state:{categories:["sustainability","nature","animal welfare","housing","education","food","community"]}});Object(o["c"])(P).use(He).use(xe).mount("#app")},"5ba1":function(e,t,n){"use strict";n("29c9")},"75a5":function(e,t,n){},"9a62":function(e,t,n){"use strict";n("f9c4")},ac5c:function(e,t,n){"use strict";n("50a6")},c7f8:function(e,t,n){"use strict";n("0516")},e3a3:function(e,t,n){},f6bd:function(e,t,n){},f8f1:function(e,t,n){"use strict";n("75a5")},f9c4:function(e,t,n){}});
//# sourceMappingURL=app.2de061e1.js.map